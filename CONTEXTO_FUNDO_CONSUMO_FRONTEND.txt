================================================================================
CONTEXTO ATUAL - FUNDO DE CONSUMO (FRONTEND)
Data: 22 de Fevereiro de 2026
Objetivo: ValidaÃ§Ã£o de alinhamento com equipe Backend
================================================================================

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
1. VISÃƒO GERAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STATUS DE IMPLEMENTAÃ‡ÃƒO: âœ… COMPLETO E FUNCIONAL

O mÃ³dulo de Fundo de Consumo estÃ¡ TOTALMENTE implementado no frontend, 
integrado com todos os endpoints do backend, e em produÃ§Ã£o na aplicaÃ§Ã£o.

PRINCIPAIS COMPONENTES:
- Service: fundoConsumoService.js (API integrada)
- Views: FundosView.vue, FundoDetalheView.vue
- Modals: ModalCriarFundo.vue, ModalRecarregarFundo.vue
- IntegraÃ§Ã£o: Pedidos (ModalNovoPedido.vue), Mesas (GestaoMesasView.vue)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2. ENDPOINTS DO BACKEND UTILIZADOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Base URL: http://localhost:8080/api/fundos
AutenticaÃ§Ã£o: Bearer Token JWT (obrigatÃ³rio em todos os requests)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2.1. CONFIGURAÃ‡ÃƒO                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET /api/fundos/config/valor-minimo
  DescriÃ§Ã£o: Consulta valor mÃ­nimo obrigatÃ³rio para criaÃ§Ã£o/recarga
  Response: { 
    "success": true,
    "message": "Sucesso",
    "data": {
      "valorMinimo": 5000
    }
  }
  Status: âœ… IMPLEMENTADO
  Usado em: ModalCriarFundo, ModalRecarregarFundo, FundoDetalheView

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2.2. CRIAÃ‡ÃƒO DE FUNDO                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

POST /api/fundos
  DescriÃ§Ã£o: Cria fundo de consumo para um cliente
  
  Request Body:
  {
    "clienteId": 123,                      // ID do cliente (obrigatÃ³rio)
    "saldoInicial": 10000,                 // Em AOA, >= valorMinimo (obrigatÃ³rio)
    "observacoes": "Carga inicial"         // Opcional
  }
  
  Response (201 Created):
  {
    "success": true,
    "message": "Fundo criado com sucesso",
    "data": {
      "id": 1,
      "clienteId": 123,
      "saldoAtual": 10000,
      "ativo": true,
      "createdAt": "2026-02-22T11:20:07.216379",
      "updatedAt": "2026-02-22T11:20:07.216379",
      "createdBy": "system",
      "modifiedBy": "system"
    }
  }
  
  Erros Comuns:
  - 400: Saldo inicial menor que valorMinimo
  - 400: Cliente jÃ¡ possui fundo ativo
  - 404: Cliente nÃ£o encontrado
  
  Status: âœ… IMPLEMENTADO
  Usado em: ModalCriarFundo (via PedidosBalcaoView, GestaoMesasView)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2.3. BUSCA DE FUNDO                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET /api/fundos/cliente/{clienteId}
  DescriÃ§Ã£o: Busca fundo ativo de um cliente especÃ­fico
  
  Response (200 OK):
  {
    "success": true,
    "message": "Fundo encontrado",
    "data": {
      "id": 1,
      "clienteId": 123,
      "saldoAtual": 8500,
      "ativo": true,
      "version": 3,
      "createdAt": "2026-02-22T11:20:07.216379",
      "updatedAt": "2026-02-22T11:36:32.026398",
      "createdBy": "system",
      "modifiedBy": "Admin Sistema",
      "cliente": {
        "id": 123,
        "nome": "JoÃ£o Silva",
        "telefone": "+244923456789"
      }
    }
  }
  
  Erros Comuns:
  - 404: Cliente nÃ£o possui fundo ativo
  
  Status: âœ… IMPLEMENTADO
  Usado em: 
    - ModalNovoPedido (verificar saldo antes de criar pedido)
    - FundosView (busca por ID de cliente)
    - GestaoMesasView (carregar fundo da mesa)

GET /api/fundos/{fundoId}/saldo
  DescriÃ§Ã£o: Consulta saldo atual de um fundo
  
  Response (200 OK):
  {
    "success": true,
    "data": {
      "saldoAtual": 8500
    }
  }
  
  Status: âœ… IMPLEMENTADO
  Usado em: FundoDetalheView (atualizaÃ§Ã£o de saldo)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2.4. RECARGA DE FUNDO                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

POST /api/fundos/{fundoId}/recarregar
  DescriÃ§Ã£o: Cria recarga via gateway AppyPay
  
  Request Body:
  {
    "valor": 5000,                         // Em AOA, > 0 (obrigatÃ³rio)
    "metodoPagamento": "GPO",              // "GPO" ou "REF" (obrigatÃ³rio)
    "descricao": "Recarga via GPO"         // Opcional
  }
  
  Response (201 Created) - MÃ©todo GPO:
  {
    "success": true,
    "message": "Recarga iniciada",
    "data": {
      "id": 456,
      "fundoId": 1,
      "valor": 5000,
      "metodoPagamento": "GPO",
      "status": "PENDENTE",
      "urlPagamento": "https://appypay.com/pay/abc123",
      "createdAt": "2026-02-22T12:00:00"
    }
  }
  
  Response (201 Created) - MÃ©todo REF:
  {
    "success": true,
    "message": "Recarga iniciada",
    "data": {
      "id": 457,
      "fundoId": 1,
      "valor": 5000,
      "metodoPagamento": "REF",
      "status": "PENDENTE",
      "entidade": "12345",
      "referencia": "999 888 777",
      "createdAt": "2026-02-22T12:00:00"
    }
  }
  
  Erros Comuns:
  - 400: Valor invÃ¡lido (<=0)
  - 400: MÃ©todo de pagamento invÃ¡lido
  - 400: Fundo encerrado
  - 404: Fundo nÃ£o encontrado
  - 500: Gateway AppyPay indisponÃ­vel
  
  Status: âœ… IMPLEMENTADO
  Usado em: ModalRecarregarFundo (via FundoDetalheView)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2.5. HISTÃ“RICO DE TRANSAÃ‡Ã•ES                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET /api/fundos/{fundoId}/transacoes
  DescriÃ§Ã£o: Lista todas as transaÃ§Ãµes de um fundo (ordenadas por data DESC)
  
  Response (200 OK):
  {
    "success": true,
    "data": [
      {
        "id": 101,
        "fundoId": 1,
        "tipo": "CREDITO",              // CREDITO | DEBITO | ESTORNO
        "valor": 5000,
        "descricao": "Recarga via GPO",
        "saldoAnterior": 3500,
        "saldoNovo": 8500,
        "createdAt": "2026-02-22T11:36:32.026398",
        "createdBy": "Admin Sistema"
      },
      {
        "id": 100,
        "fundoId": 1,
        "tipo": "DEBITO",
        "valor": 1500,
        "descricao": "Pedido PED-20260222-002",
        "saldoAnterior": 5000,
        "saldoNovo": 3500,
        "createdAt": "2026-02-22T11:30:15.123456",
        "createdBy": "system"
      }
    ]
  }
  
  Status: âœ… IMPLEMENTADO
  Usado em: FundoDetalheView (exibiÃ§Ã£o de extrato)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
3. ESTRUTURAS DE DADOS (PAYLOADS)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3.1. OBJETO FUNDO (Response do Backend)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

interface Fundo {
  id: number                  // ID Ãºnico do fundo
  clienteId: number           // ID do cliente proprietÃ¡rio
  saldoAtual: number          // Saldo em AOA (centavos: 10000 = 100,00 AOA)
  ativo: boolean              // true = ATIVO, false = ENCERRADO
  version: number             // Controle de concorrÃªncia otimista
  createdAt: string           // ISO 8601 timestamp
  updatedAt: string           // ISO 8601 timestamp
  createdBy: string           // UsuÃ¡rio que criou
  modifiedBy: string          // Ãšltimo usuÃ¡rio que modificou
  cliente?: {                 // Opcional, retornado em alguns endpoints
    id: number
    nome: string
    telefone: string
  }
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3.2. OBJETO TRANSAÃ‡ÃƒO (Response do Backend)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

interface Transacao {
  id: number                  // ID Ãºnico da transaÃ§Ã£o
  fundoId: number             // FK para o fundo
  tipo: string                // "CREDITO" | "DEBITO" | "ESTORNO"
  valor: number               // Valor da transaÃ§Ã£o em AOA
  descricao: string           // DescriÃ§Ã£o da operaÃ§Ã£o
  saldoAnterior: number       // Saldo antes da transaÃ§Ã£o
  saldoNovo: number           // Saldo apÃ³s a transaÃ§Ã£o
  createdAt: string           // ISO 8601 timestamp
  createdBy: string           // UsuÃ¡rio que criou a transaÃ§Ã£o
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3.3. OBJETO PAGAMENTO (Response do Backend)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

interface Pagamento {
  id: number                  // ID Ãºnico do pagamento
  fundoId: number             // FK para o fundo
  valor: number               // Valor em AOA
  metodoPagamento: string     // "GPO" | "REF"
  status: string              // "PENDENTE" | "PAGO" | "CANCELADO"
  
  // Campos especÃ­ficos GPO
  urlPagamento?: string       // URL para redirecionamento AppyPay
  
  // Campos especÃ­ficos REF
  entidade?: string           // Entidade bancÃ¡ria
  referencia?: string         // ReferÃªncia de pagamento
  
  createdAt: string           // ISO 8601 timestamp
  updatedAt?: string          // ISO 8601 timestamp
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3.4. PAYLOADS DE REQUEST (Frontend â†’ Backend)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

// Criar Fundo
POST /api/fundos
{
  "clienteId": number,        // ObrigatÃ³rio
  "saldoInicial": number,     // ObrigatÃ³rio, >= valorMinimo
  "observacoes": string       // Opcional
}

// Recarregar Fundo
POST /api/fundos/{fundoId}/recarregar
{
  "valor": number,            // ObrigatÃ³rio, > 0
  "metodoPagamento": string,  // ObrigatÃ³rio, "GPO" ou "REF"
  "descricao": string         // Opcional
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
4. FLUXOS IMPLEMENTADOS NO FRONTEND
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4.1. FLUXO: CRIAR FUNDO                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CONTEXTOS:
1. Via PedidosBalcaoView â†’ ModalNovoPedido (cliente sem fundo)
2. Via GestaoMesasView â†’ ModalNovoPedido (mesa sem fundo)

PASSOS:
1. UsuÃ¡rio tenta criar pedido PRE_PAGO
2. Frontend detecta: unidade.cliente existe MAS fundoConsumo === null
3. Exibe alerta: "Cliente nÃ£o possui fundo de consumo"
4. BotÃ£o "Criar Fundo" abre ModalCriarFundo
5. Modal carrega valorMinimo via GET /fundos/config/valor-minimo
6. UsuÃ¡rio preenche:
   - clienteId (preenchido automaticamente se veio de contexto)
   - saldoInicial (mÃ­nimo = valorMinimo)
   - observacoes (opcional)
7. Frontend valida: saldoInicial >= valorMinimo
8. Submit â†’ POST /fundos
9. Backend responde 201 com fundo criado
10. Frontend:
    - Emite evento 'fundo-criado' com dados do fundo
    - Fecha ModalCriarFundo
    - Parent recarrega dados (busca fundo novamente)
    - ModalNovoPedido agora permite criar pedido PRE_PAGO

VALIDAÃ‡Ã•ES FRONTEND:
- clienteId obrigatÃ³rio e numÃ©rico
- saldoInicial >= valorMinimo
- ValidaÃ§Ã£o em tempo real com feedback visual

TRATAMENTO DE ERROS:
- 400 "Saldo inicial invÃ¡lido" â†’ Exibe mensagem amigÃ¡vel
- 400 "Cliente jÃ¡ possui fundo" â†’ Recarrega dados (fundo criado em outro lugar)
- 404 "Cliente nÃ£o encontrado" â†’ Exibe erro e solicita verificaÃ§Ã£o

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4.2. FLUXO: RECARREGAR FUNDO                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CONTEXTOS:
1. Via FundoDetalheView (botÃ£o "Recarregar Fundo" no header)
2. Via ModalNovoPedido â†’ Redireciona para FundoDetalheView
3. Via GestaoMesasView â†’ ModalDetalhesMesa â†’ Redireciona para FundoDetalheView

PASSOS:
1. UsuÃ¡rio clica em "Recarregar Fundo"
2. Frontend abre ModalRecarregarFundo com prop `fundo`
3. Modal exibe:
   - Saldo atual do fundo
   - Nome do cliente
4. Modal carrega valorMinimo via GET /fundos/config/valor-minimo
5. UsuÃ¡rio preenche:
   - valor (mÃ­nimo = valorMinimo)
   - metodoPagamento ("GPO" ou "REF")
6. Frontend valida: valor > 0 e valor >= valorMinimo
7. Preview exibe: saldoAtual + valor = novoSaldo
8. Submit â†’ POST /fundos/{fundoId}/recarregar
9. Backend cria pagamento (status PENDENTE)
10. Frontend exibe informaÃ§Ãµes do pagamento:
    - GPO: BotÃ£o com link para AppyPay (urlPagamento)
    - REF: Exibe entidade e referÃªncia bancÃ¡ria
11. UsuÃ¡rio completa pagamento externamente (AppyPay ou banco)
12. Backend recebe webhook/confirmaÃ§Ã£o e atualiza fundo
13. Frontend pode:
    - Polling manual (recarregar pÃ¡gina)
    - WebSocket (futuro): receber atualizaÃ§Ã£o automÃ¡tica

MÃ‰TODOS DE PAGAMENTO:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GPO      â”‚ Pagamento InstantÃ¢neo via AppyPay                           â”‚
â”‚          â”‚ - Frontend recebe urlPagamento                              â”‚
â”‚          â”‚ - Abre em nova aba (target="_blank")                       â”‚
â”‚          â”‚ - Cliente completa pagamento no site AppyPay                â”‚
â”‚          â”‚ - AppyPay envia webhook para backend                        â”‚
â”‚          â”‚ - Backend atualiza saldo automaticamente                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ REF      â”‚ ReferÃªncia BancÃ¡ria                                         â”‚
â”‚          â”‚ - Frontend recebe entidade + referencia                     â”‚
â”‚          â”‚ - Exibe dados formatados para cliente copiar                â”‚
â”‚          â”‚ - Cliente paga no banco usando esses dados                  â”‚
â”‚          â”‚ - Banco processa e notifica backend                         â”‚
â”‚          â”‚ - Backend atualiza saldo apÃ³s confirmaÃ§Ã£o                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

VALIDAÃ‡Ã•ES FRONTEND:
- valor > 0 e >= valorMinimo
- metodoPagamento obrigatÃ³rio ("GPO" ou "REF")
- Preview de novo saldo em tempo real

TRATAMENTO DE ERROS:
- 400 "Valor invÃ¡lido" â†’ Exibe mensagem e destaca campo
- 400 "Fundo encerrado" â†’ Redireciona para criar novo fundo
- 404 "Fundo nÃ£o encontrado" â†’ Volta para lista de fundos
- 500 "Gateway indisponÃ­vel" â†’ Sugere tentar novamente mais tarde

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4.3. FLUXO: CRIAR PEDIDO PRÃ‰-PAGO (DÃ©bito em Fundo)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CONTEXTOS:
1. Via PedidosBalcaoView â†’ ModalNovoPedido
2. Via GestaoMesasView â†’ ModalDetalhesMesa â†’ ModalNovoPedido

PASSOS:
1. UsuÃ¡rio abre ModalNovoPedido para uma unidade
2. Frontend busca fundo via GET /fundos/cliente/{clienteId}
3. Se fundo existe:
   - Exibe saldo atual no topo do modal
   - Define tipoPagamento padrÃ£o = "PRE_PAGO"
4. UsuÃ¡rio adiciona produtos ao carrinho
5. Frontend calcula totalCarrinho em tempo real
6. VALIDAÃ‡ÃƒO CRÃTICA: Se totalCarrinho > fundoConsumo.saldoAtual
   - Exibe alerta vermelho: "Saldo Insuficiente"
   - Exibe botÃ£o "Recarregar" â†’ Redireciona para FundoDetalheView
   - Desabilita botÃ£o "Criar Pedido"
7. Se saldo suficiente:
   - BotÃ£o "Criar Pedido" habilitado
8. Submit â†’ POST /pedidos
   Payload:
   {
     "unidadeConsumoId": number,
     "tipoPagamento": "PRE_PAGO",
     "itens": [
       { "produtoId": number, "quantidade": number }
     ]
   }
9. Backend:
   - Cria pedido com status "CRIADO"
   - Debita valor do fundo (cria transaÃ§Ã£o tipo DEBITO)
   - Atualiza saldoAtual do fundo
   - Retorna pedido criado
10. Frontend:
    - Exibe sucesso: "Pedido criado! Saldo debitado."
    - Fecha ModalNovoPedido
    - Recarrega lista de pedidos
    - Atualiza saldo do fundo (busca novamente)

INDICADORES VISUAIS:
- Saldo < 1000 AOA â†’ Texto vermelho
- Saldo < 5000 AOA â†’ Texto laranja
- Saldo >= 5000 AOA â†’ Texto verde

VALIDAÃ‡Ã•ES FRONTEND:
- Cliente deve ter fundo ativo
- Saldo >= totalCarrinho
- Carrinho nÃ£o pode estar vazio
- tipoPagamento = "PRE_PAGO" para usar fundo

INTEGRAÃ‡ÃƒO COM BACKEND:
- DÃ©bito automÃ¡tico no fundo ao criar pedido PRE_PAGO
- TransaÃ§Ã£o registrada no histÃ³rico do fundo
- Saldo atualizado atomicamente (concorrÃªncia tratada via version)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4.4. FLUXO: BUSCAR FUNDO POR CLIENTE                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CONTEXTOS:
1. Via FundosView (campo de busca)
2. Via ModalNovoPedido (onMounted, busca automÃ¡tica)
3. Via GestaoMesasView (ao abrir detalhes da mesa)

PASSOS (FundosView):
1. UsuÃ¡rio digita ID do cliente no campo de busca
2. Clica em "Buscar"
3. Frontend valida: ID numÃ©rico
4. Frontend â†’ GET /fundos/cliente/{clienteId}
5. Se encontrado (200):
   - Adiciona fundo Ã  lista (se nÃ£o existir)
   - Exibe notificaÃ§Ã£o: "Fundo encontrado!"
   - Limpa campo de busca
6. Se nÃ£o encontrado (404):
   - Exibe notificaÃ§Ã£o: "Cliente nÃ£o possui fundo de consumo"
   - Oferece opÃ§Ã£o de criar fundo

PASSOS (ModalNovoPedido - automÃ¡tico):
1. Modal monta com prop `unidade`
2. Se unidade.cliente?.id existe:
   - buscarFundoCliente() executado em background (nÃ£o bloqueante)
   - Se encontrado: fundoConsumo.value = resultado
   - Se nÃ£o encontrado: fundoConsumo.value = null, exibe alerta

VALIDAÃ‡Ã•ES FRONTEND:
- clienteId obrigatÃ³rio e numÃ©rico
- Feedback visual durante busca (loading)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4.5. FLUXO: VISUALIZAR DETALHES E EXTRATO DO FUNDO                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ROTA: /admin/fundos/:id

PASSOS:
1. UsuÃ¡rio navega para pÃ¡gina de detalhes (via link ou redirecionamento)
2. Frontend carrega em paralelo:
   - GET /fundos/config/valor-minimo (configuraÃ§Ã£o)
   - GET /fundos/cliente/{id} (dados do fundo)
   - GET /fundos/{id}/transacoes (histÃ³rico)
3. Exibe dashboard com:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ CABEÃ‡ALHO                                                       â”‚
   â”‚ - TÃ­tulo: Fundo #{id}                                           â”‚
   â”‚ - BotÃ£o: "Recarregar Fundo" (se ativo)                         â”‚
   â”‚ - Badge: Status (ATIVO | ENCERRADO)                            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ CARDS INFORMATIVOS                                              â”‚
   â”‚ - Saldo Atual (destaque)                                        â”‚
   â”‚ - Total CrÃ©ditos                                                â”‚
   â”‚ - Total DÃ©bitos                                                 â”‚
   â”‚ - Total Estornos                                                â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ DADOS DO FUNDO                                                  â”‚
   â”‚ - Cliente: Nome + Telefone                                      â”‚
   â”‚ - Tipo: UNIDADE_CONSUMO / QR_CONSUMO / EVENTO                  â”‚
   â”‚ - Criado em: Data formatada                                     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ EXTRATO DE TRANSAÃ‡Ã•ES                                           â”‚
   â”‚ Tabela com:                                                     â”‚
   â”‚ - Data/Hora                                                     â”‚
   â”‚ - Tipo (CRÃ‰DITO/DÃ‰BITO/ESTORNO)                                â”‚
   â”‚ - DescriÃ§Ã£o                                                     â”‚
   â”‚ - Valor                                                         â”‚
   â”‚ - Saldo Anterior                                                â”‚
   â”‚ - Saldo Novo                                                    â”‚
   â”‚ - UsuÃ¡rio                                                       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
4. CÃ¡lculos financeiros em tempo real via computed properties
5. FormataÃ§Ã£o de valores: 10000 â†’ "100,00 AOA"
6. TransaÃ§Ãµes ordenadas por data (mais recente primeiro)

BOTÃƒO "RECARREGAR FUNDO":
- VisÃ­vel apenas se fundo.ativo === true
- Abre ModalRecarregarFundo
- ApÃ³s recarga bem-sucedida:
  - Fecha modal
  - Recarrega fundo e transaÃ§Ãµes
  - Exibe novo saldo

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
5. COMPONENTES E ARQUIVOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5.1. SERVICE                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

src/services/fundoConsumoService.js
  MÃ©todos exportados:
  - consultarValorMinimo()
  - criarFundo({ clienteId, saldoInicial, observacoes })
  - buscarFundoPorCliente(clienteId)
  - consultarSaldo(fundoId)
  - recarregarFundo(fundoId, { valor, metodoPagamento, descricao })
  - listarTransacoes(fundoId)
  - aguardarConfirmacaoPagamento(clienteId, saldoEsperado) // Polling

  IntegraÃ§Ã£o com api.js:
  - Usa instÃ¢ncia Axios configurada
  - Headers JWT automÃ¡ticos
  - Interceptors de erro globais
  - Response unwrapping: response.data.data

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5.2. VIEWS                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

src/modules/fundos/FundosView.vue
  Rota: /admin/fundos
  Funcionalidades:
  - Busca por ID do cliente
  - Lista de fundos (inicialmente vazia, populada por buscas)
  - Filtros: Tipo, Status
  - Cards com informaÃ§Ãµes resumidas
  - Link para detalhes de cada fundo
  
  Estado:
  - fundos: ref([])
  - busca: ref('')
  - loading: ref(false)
  - tipoFiltro: ref('TODOS')
  - statusFiltro: ref('TODOS')

src/views/FundoDetalheView.vue
  Rota: /admin/fundos/:id
  Funcionalidades:
  - Exibe todos os dados do fundo
  - Tabela de transaÃ§Ãµes completa
  - BotÃ£o "Recarregar Fundo"
  - CÃ¡lculos: totalCreditos, totalDebitos, totalEstornos
  - FormataÃ§Ã£o de datas e valores
  
  Estado:
  - fundo: ref(null)
  - transacoes: ref([])
  - valorMinimo: ref(5000)
  - loading: ref(true)
  - modalRecarregarAberto: ref(false)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5.3. MODALS                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

src/components/fundos/ModalCriarFundo.vue
  Props:
  - cliente: Object (opcional, preenche clienteId automaticamente)
  
  Emits:
  - fechar: void
  - fundo-criado: (fundo) => void
  
  FormulÃ¡rio:
  - clienteId: number (obrigatÃ³rio)
  - saldoInicial: number (>= valorMinimo)
  - observacoes: string (opcional)
  
  ValidaÃ§Ãµes:
  - clienteId numÃ©rico
  - saldoInicial >= valorMinimo
  - Preview do valor em tempo real
  
  Fluxo:
  1. onMounted: carrega valorMinimo
  2. UsuÃ¡rio preenche formulÃ¡rio
  3. Submit: valida â†’ POST /fundos
  4. Sucesso: emite fundo-criado â†’ fecha modal
  5. Erro: exibe mensagem amigÃ¡vel

src/components/fundos/ModalRecarregarFundo.vue
  Props:
  - isOpen: boolean (controla renderizaÃ§Ã£o)
  - fundo: Object (obrigatÃ³rio)
  
  Emits:
  - close: void (substitui 'fechar')
  - recarga-realizada: (pagamento) => void (substitui 'recarga-criada')
  
  FormulÃ¡rio:
  - valor: number (>= valorMinimo)
  - metodoPagamento: "GPO" | "REF" (obrigatÃ³rio)
  
  Estados:
  - pagamentoCriado: ref(null) // Armazena dados do pagamento apÃ³s submit
  
  Fluxo:
  1. onMounted: carrega valorMinimo
  2. UsuÃ¡rio preenche valor e escolhe mÃ©todo
  3. Preview: saldoAtual + valor = novoSaldo
  4. Submit: valida â†’ POST /fundos/{id}/recarregar
  5. Sucesso:
     - Armazena pagamento em pagamentoCriado
     - Se GPO: exibe botÃ£o com link para AppyPay
     - Se REF: exibe entidade + referencia
     - BotÃ£o "Confirmar" vira "Fechar"
  6. Fechar: emite recarga-realizada â†’ fecha modal

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5.4. INTEGRAÃ‡Ã•ES                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

src/components/pedidos/ModalNovoPedido.vue
  IntegraÃ§Ã£o com Fundos:
  - buscarFundoCliente() em onMounted
  - Exibe saldo atual do fundo
  - Valida saldo >= totalCarrinho para PRE_PAGO
  - Alerta se cliente nÃ£o tem fundo
  - BotÃ£o "Criar Fundo" â†’ emite evento 'criar-fundo'
  - BotÃ£o "Recarregar" â†’ router.push('/admin/fundos/:id')
  - tipoPagamento padrÃ£o = "PRE_PAGO" se tem fundo
  
  Props:
  - unidade: Object (contÃ©m cliente)
  
  Estado:
  - fundoConsumo: ref(null)
  - carregandoFundo: ref(false)

src/modules/pedidos/PedidosBalcaoView.vue
  IntegraÃ§Ã£o com Fundos:
  - Importa ModalCriarFundo e ModalRecarregarFundo
  - handleCriarFundo(cliente) â†’ abre ModalCriarFundo
  - handleRecargaCriada() â†’ recarrega unidade e fundo
  - ApÃ³s criar fundo: recarrega unidade selecionada

src/modules/mesas/GestaoMesasView.vue
  IntegraÃ§Ã£o com Fundos:
  - abrirDetalhesMesa() â†’ busca fundo do cliente da mesa
  - fundoSelecionado: ref(null)
  - Passa fundo para ModalDetalhesMesa
  - BotÃ£o "Recarregar Fundo" â†’ redireciona para FundoDetalheView

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
6. VALIDAÃ‡Ã•ES E REGRAS DE NEGÃ“CIO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6.1. CRIAÃ‡ÃƒO DE FUNDO                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

REGRAS FRONTEND:
âœ… clienteId obrigatÃ³rio e numÃ©rico
âœ… saldoInicial >= valorMinimo (padrÃ£o 5000 AOA = 50,00 AOA)
âœ… observacoes opcional (mÃ¡ximo 255 caracteres)
âœ… Preview de valor formatado em tempo real
âœ… Desabilita botÃ£o se validaÃ§Ã£o falhar

REGRAS BACKEND (esperadas):
âœ… Cliente nÃ£o pode ter mais de 1 fundo ativo simultaneamente
âœ… saldoInicial >= valorMinimo configurado no sistema
âœ… Cliente deve existir no sistema
âœ… TransaÃ§Ã£o inicial tipo CREDITO registrada automaticamente

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6.2. RECARGA DE FUNDO                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

REGRAS FRONTEND:
âœ… valor > 0 e >= valorMinimo
âœ… metodoPagamento obrigatÃ³rio ("GPO" ou "REF")
âœ… Fundo deve estar ativo (botÃ£o nÃ£o aparece se encerrado)
âœ… Preview: novoSaldo = saldoAtual + valor
âœ… Exibe informaÃ§Ãµes do pagamento apÃ³s criaÃ§Ã£o

REGRAS BACKEND (esperadas):
âœ… Fundo deve estar ativo (ativo = true)
âœ… valor > 0
âœ… Pagamento criado com status PENDENTE
âœ… IntegraÃ§Ã£o com gateway AppyPay para processar pagamento
âœ… ApÃ³s confirmaÃ§Ã£o: transaÃ§Ã£o CREDITO + atualizaÃ§Ã£o de saldo
âœ… Webhook do AppyPay atualiza status do pagamento

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6.3. DÃ‰BITO EM PEDIDO PRÃ‰-PAGO                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

REGRAS FRONTEND:
âœ… Cliente deve ter fundo ativo
âœ… Saldo >= totalCarrinho
âœ… Valida antes de habilitar botÃ£o "Criar Pedido"
âœ… Exibe alerta se saldo insuficiente
âœ… Oferece recarga imediata (redirect)

REGRAS BACKEND (esperadas):
âœ… ValidaÃ§Ã£o de saldo >= total do pedido
âœ… DÃ©bito atÃ´mico (controle de concorrÃªncia via version)
âœ… TransaÃ§Ã£o DEBITO registrada automaticamente
âœ… AtualizaÃ§Ã£o de saldoAtual do fundo
âœ… Se saldo insuficiente: 400 Bad Request
âœ… Pedido criado com status CRIADO apÃ³s dÃ©bito bem-sucedido

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
7. TRATAMENTO DE ERROS E EDGE CASES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7.1. ERROS HTTP TRATADOS                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

400 Bad Request:
  Mensagens especÃ­ficas do backend:
  - "Saldo inicial invÃ¡lido" â†’ Feedback no campo
  - "Cliente jÃ¡ possui fundo ativo" â†’ Busca fundo existente
  - "Valor invÃ¡lido" â†’ Destaca campo de valor
  - "MÃ©todo de pagamento invÃ¡lido" â†’ Valida radio buttons
  - "Fundo encerrado" â†’ Oferece criar novo fundo

404 Not Found:
  - "Cliente nÃ£o encontrado" â†’ Valida ID do cliente
  - "Fundo nÃ£o encontrado" â†’ Redireciona para lista de fundos
  - "Cliente nÃ£o possui fundo" â†’ Oferece criar fundo

500 Internal Server Error:
  - "Gateway AppyPay indisponÃ­vel" â†’ Sugere tentar mais tarde
  - Erro genÃ©rico â†’ Exibe mensagem amigÃ¡vel + log no console

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7.2. EDGE CASES TRATADOS                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cliente sem fundo:
  âœ… ModalNovoPedido detecta e exibe alerta
  âœ… Oferece botÃ£o "Criar Fundo"
  âœ… ApÃ³s criar: recarrega e permite pedido PRE_PAGO

Saldo insuficiente:
  âœ… Valida em tempo real durante adiÃ§Ã£o de produtos
  âœ… Desabilita botÃ£o "Criar Pedido"
  âœ… Exibe alerta com saldo atual vs. total
  âœ… BotÃ£o "Recarregar" redireciona para FundoDetalheView

Fundo encerrado:
  âœ… BotÃ£o "Recarregar Fundo" nÃ£o aparece
  âœ… Badge exibe "ENCERRADO" em cinza
  âœ… HistÃ³rico de transaÃ§Ãµes ainda visÃ­vel

ConcorrÃªncia (saldo desatualizado):
  âœ… Backend usa controle otimista (version)
  âœ… Se saldo mudou: backend rejeita operaÃ§Ã£o
  âœ… Frontend recebe erro e recarrega dados atualizados

Pagamento AppyPay pendente:
  âœ… Frontend exibe link/referÃªncia para pagamento
  âœ… Status permanece PENDENTE atÃ© confirmaÃ§Ã£o
  âœ… UsuÃ¡rio pode fechar modal e pagar depois
  âœ… Saldo atualizado apÃ³s webhook do AppyPay

Busca por cliente inexistente:
  âœ… 404 tratado como "nÃ£o encontrado"
  âœ… NotificaÃ§Ã£o amigÃ¡vel
  âœ… Oferece criar fundo para o cliente

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
8. MELHORIAS FUTURAS E PENDÃŠNCIAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8.1. MELHORIAS PLANEJADAS                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”„ WebSocket para atualizaÃ§Ã£o automÃ¡tica de saldo:
   - Atualmente: Polling manual (recarregar pÃ¡gina)
   - Futuro: Receber eventos de atualizaÃ§Ã£o em tempo real
   - Endpoint sugerido: /topic/fundo/{fundoId}

ğŸ“Š Dashboard de fundos (visÃ£o geral):
   - Total de fundos ativos
   - Saldo total de todos os fundos
   - Fundos com saldo baixo (< 1000 AOA)
   - GrÃ¡ficos de movimentaÃ§Ã£o financeira

ğŸ” Filtros avanÃ§ados no histÃ³rico de transaÃ§Ãµes:
   - Filtrar por tipo (CREDITO/DEBITO/ESTORNO)
   - Filtrar por perÃ­odo (data inicial/final)
   - Buscar por descriÃ§Ã£o
   - Exportar extrato (PDF/Excel)

ğŸ“§ NotificaÃ§Ãµes de saldo baixo:
   - Email/SMS quando saldo < limite configurado
   - Push notification no app mobile (futuro)

ğŸ” HistÃ³rico de auditoria detalhado:
   - Log de todas as operaÃ§Ãµes
   - Quem criou/modificou cada transaÃ§Ã£o
   - IP e timestamp de cada aÃ§Ã£o

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8.2. PENDÃŠNCIAS CONHECIDAS                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸ Endpoint de listagem completa de fundos:
   - Backend nÃ£o possui GET /fundos (listar todos)
   - Frontend busca 1 por 1 via clienteId
   - SoluÃ§Ã£o temporÃ¡ria: lista populada por buscas
   - NecessÃ¡rio para: dashboard, relatÃ³rios, admin geral

âš ï¸ Endpoint de atualizaÃ§Ã£o de status:
   - Backend nÃ£o possui PUT /fundos/{id}/encerrar
   - Encerramento de fundo deve ser feito manualmente no backend
   - Frontend apenas exibe status (ativo/encerrado)

âš ï¸ Polling de confirmaÃ§Ã£o de pagamento:
   - Implementado no service mas nÃ£o usado nas views
   - FunÃ§Ã£o: aguardarConfirmacaoPagamento()
   - Pode causar muitas requisiÃ§Ãµes se usado sem cuidado
   - Melhor soluÃ§Ã£o: WebSocket

âš ï¸ ValidaÃ§Ã£o de campos opcionais:
   - observacoes: sem limite de caracteres no frontend
   - descricao (recarga): sem limite no frontend
   - Backend deve validar tamanho mÃ¡ximo

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
9. EXEMPLOS DE RESPOSTAS DO BACKEND
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9.1. SUCESSO - CRIAR FUNDO                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

POST /api/fundos
Request:
{
  "clienteId": 1,
  "saldoInicial": 10000,
  "observacoes": "Carga inicial"
}

Response (201 Created):
{
  "success": true,
  "message": "Fundo criado com sucesso",
  "data": {
    "id": 1,
    "clienteId": 1,
    "saldoAtual": 10000,
    "ativo": true,
    "version": 0,
    "createdAt": "2026-02-22T11:20:07.216379",
    "updatedAt": "2026-02-22T11:20:07.216379",
    "createdBy": "system",
    "modifiedBy": "system"
  }
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9.2. SUCESSO - BUSCAR FUNDO                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET /api/fundos/cliente/1

Response (200 OK):
{
  "success": true,
  "message": "Fundo encontrado",
  "data": {
    "id": 1,
    "clienteId": 1,
    "saldoAtual": 8500,
    "ativo": true,
    "version": 3,
    "createdAt": "2026-02-22T11:20:07.216379",
    "updatedAt": "2026-02-22T11:36:32.026398",
    "createdBy": "system",
    "modifiedBy": "Admin Sistema",
    "cliente": {
      "id": 1,
      "nome": "JoÃ£o Silva",
      "telefone": "+244923456789"
    }
  }
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9.3. SUCESSO - RECARREGAR FUNDO (GPO)                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

POST /api/fundos/1/recarregar
Request:
{
  "valor": 5000,
  "metodoPagamento": "GPO",
  "descricao": "Recarga via GPO"
}

Response (201 Created):
{
  "success": true,
  "message": "Recarga iniciada. Complete o pagamento no AppyPay",
  "data": {
    "id": 456,
    "fundoId": 1,
    "valor": 5000,
    "metodoPagamento": "GPO",
    "status": "PENDENTE",
    "urlPagamento": "https://appypay.com/pay/abc123def456",
    "createdAt": "2026-02-22T12:00:00.123456"
  }
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9.4. ERRO - CLIENTE JÃ TEM FUNDO                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

POST /api/fundos
Request:
{
  "clienteId": 1,
  "saldoInicial": 10000,
  "observacoes": "Tentando criar segundo fundo"
}

Response (400 Bad Request):
{
  "success": false,
  "message": "Cliente jÃ¡ possui fundo ativo",
  "errors": [
    {
      "field": "clienteId",
      "message": "Cliente ID 1 jÃ¡ possui um fundo de consumo ativo"
    }
  ]
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9.5. ERRO - SALDO INICIAL INSUFICIENTE                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

POST /api/fundos
Request:
{
  "clienteId": 2,
  "saldoInicial": 3000,
  "observacoes": "Valor abaixo do mÃ­nimo"
}

Response (400 Bad Request):
{
  "success": false,
  "message": "Saldo inicial deve ser no mÃ­nimo 5000 AOA",
  "errors": [
    {
      "field": "saldoInicial",
      "message": "O valor mÃ­nimo para criaÃ§Ã£o de fundo Ã© 50,00 AOA (5000 centavos)"
    }
  ]
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
10. CHECKLIST DE VALIDAÃ‡ÃƒO COM BACKEND
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ENDPOINTS E CONTRATOS                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â˜‘ GET /api/fundos/config/valor-minimo
  - Response tem formato envelope { success, message, data }?
  - data.valorMinimo Ã© numÃ©rico?

â˜‘ POST /api/fundos
  - Aceita { clienteId, saldoInicial, observacoes }?
  - Valida clienteId obrigatÃ³rio?
  - Valida saldoInicial >= valorMinimo?
  - Retorna 400 se cliente jÃ¡ tem fundo ativo?
  - Retorna 404 se cliente nÃ£o existe?
  - Response 201 com fundo criado?

â˜‘ GET /api/fundos/cliente/{clienteId}
  - Retorna 200 com fundo se existe?
  - Retorna 404 se cliente nÃ£o tem fundo?
  - Response inclui dados do cliente (nome, telefone)?

â˜‘ GET /api/fundos/{fundoId}/saldo
  - Retorna saldoAtual atualizado?
  - Formato numÃ©rico em centavos?

â˜‘ POST /api/fundos/{fundoId}/recarregar
  - Aceita { valor, metodoPagamento, descricao }?
  - Valida valor > 0?
  - Valida metodoPagamento em ["GPO", "REF"]?
  - GPO retorna urlPagamento?
  - REF retorna entidade + referencia?
  - Retorna 400 se fundo encerrado?

â˜‘ GET /api/fundos/{fundoId}/transacoes
  - Retorna array de transaÃ§Ãµes?
  - Ordenadas por data DESC (mais recente primeiro)?
  - Cada transaÃ§Ã£o tem: id, tipo, valor, descricao, saldoAnterior, saldoNovo?

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ REGRAS DE NEGÃ“CIO                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â˜‘ Cliente pode ter apenas 1 fundo ativo simultaneamente?
â˜‘ Fundo Ã© criado com primeira transaÃ§Ã£o tipo CREDITO?
â˜‘ DÃ©bito de pedido PRE_PAGO cria transaÃ§Ã£o tipo DEBITO automaticamente?
â˜‘ Recarga confirmada cria transaÃ§Ã£o tipo CREDITO?
â˜‘ Controle de concorrÃªncia via version (optimistic locking)?
â˜‘ Webhook do AppyPay atualiza status do pagamento?
â˜‘ Saldo Ã© atualizado atomicamente (transaÃ§Ã£o + saldo na mesma transaÃ§Ã£o DB)?

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INTEGRAÃ‡Ã•ES                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â˜‘ Criar pedido PRE_PAGO debita fundo automaticamente?
â˜‘ Backend valida saldo suficiente antes de criar pedido?
â˜‘ Erro de saldo insuficiente retorna 400 com mensagem clara?
â˜‘ WebSocket notifica atualizaÃ§Ã£o de saldo (se implementado)?
â˜‘ Gateway AppyPay integrado corretamente?

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FORMATOS E TIPOS                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â˜‘ Valores monetÃ¡rios em centavos (10000 = 100,00 AOA)?
â˜‘ Datas em formato ISO 8601 (YYYY-MM-DDTHH:mm:ss.SSSSSS)?
â˜‘ Status booleano: ativo = true/false?
â˜‘ Tipos de transaÃ§Ã£o: CREDITO | DEBITO | ESTORNO?
â˜‘ MÃ©todos de pagamento: GPO | REF?
â˜‘ Response envelope consistente: { success, message, data, errors }?

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
FIM DO DOCUMENTO
Data: 22 de Fevereiro de 2026
VersÃ£o: 1.0
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
